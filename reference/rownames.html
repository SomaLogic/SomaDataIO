<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Helpers for Working With Row Names — rownames • SomaDataIO</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Helpers for Working With Row Names — rownames"><meta property="og:description" content="Easily move row names to a column and vice-versa without the unwanted
side-effects to object class and attributes. Drop-in replacement for
tibble::rownames_to_column() and tibble::column_to_rownames() which
can have undesired side-effects to complex object attributes.
Does not import any external packages, modify the environment, or change
the object (other than the desired column). When using col2rn(), if
explicit row names exist, they are overwritten with a warning. add_rowid()
does not affect row names, which differs from tibble::rowid_to_column()."><meta property="og:image" content="https://github.com/SomaLogic/SomaDataIO/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SomaDataIO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">6.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/SomaDataIO.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/loading-and-wrangling.html">Loading and Wrangling 'SomaScan'</a>
    </li>
    <li>
      <a href="../articles/two-group-comparison.html">Two-Group Comparison</a>
    </li>
    <li>
      <a href="../articles/binary-classification.html">Binary Classification</a>
    </li>
    <li>
      <a href="../articles/linear-regression.html">Linear Regression</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SomaLogic/SomaDataIO/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Helpers for Working With Row Names</h1>
    <small class="dont-index">Source: <a href="https://github.com/SomaLogic/SomaDataIO/blob/HEAD/R/rownames.R"><code>R/rownames.R</code></a></small>
    <div class="hidden name"><code>rownames.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Easily move row names to a column and vice-versa without the unwanted
side-effects to object class and attributes. Drop-in replacement for
<code><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">tibble::rownames_to_column()</a></code> and <code><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">tibble::column_to_rownames()</a></code> which
can have undesired side-effects to complex object attributes.
Does not import any external packages, modify the environment, or change
the object (other than the desired column). When using <code>col2rn()</code>, if
explicit row names exist, they are overwritten with a warning. <code>add_rowid()</code>
does <em>not</em> affect row names, which differs from <code><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">tibble::rowid_to_column()</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rn2col</span><span class="op">(</span><span class="va">data</span>, name <span class="op">=</span> <span class="st">".rn"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">col2rn</span><span class="op">(</span><span class="va">data</span>, name <span class="op">=</span> <span class="st">".rn"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">has_rn</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rm_rn</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">set_rn</span><span class="op">(</span><span class="va">data</span>, <span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_rowid</span><span class="op">(</span><span class="va">data</span>, name <span class="op">=</span> <span class="st">".rowid"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>An object that inherits from class <code>data.frame</code>. Typically
a <code>soma_adat</code> class object.</p></dd>


<dt>name</dt>
<dd><p>Character. The name of the column to move.</p></dd>


<dt>value</dt>
<dd><p>Character. The new set of names for the data frame.
If duplicates exist they are modified on-the-fly via <code><a href="https://rdrr.io/r/base/make.unique.html" class="external-link">make.unique()</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>All functions attempt to return an object of the same class as
the input with fully intact and unmodified attributes (aside from those
required by the desired action). <code>has_rn()</code> returns a scalar logical.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>rn2col()</code>: moves the row names of <code>data</code> to an explicit column
whether they are explicit or implicit.</p></li>
<li><p><code>col2rn()</code>: is the inverse of <code>rn2col()</code>. If row names exist, they
will be overwritten (with warning).</p></li>
<li><p><code>has_rn()</code>: returns a boolean indicating whether the data frame
has explicit row names assigned.</p></li>
<li><p><code>rm_rn()</code>: removes existing row names, leaving only "implicit" row names.</p></li>
<li><p><code>set_rn()</code>: sets (and overwrites) existing row names for data frames only.</p></li>
<li><p><code>add_rowid()</code>: adds a sequential integer row identifier; starting at <code>1:nrow(data)</code>.
It does <em>not</em> remove existing row names currently, but may in the future
(please code accordingly).</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a           b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 1 -0.23745154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B 2 -0.67263869</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C 3  1.21431315</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> D 4  0.03138409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E 5  2.26227688</span>
<span class="r-in"><span><span class="fu">rn2col</span><span class="op">(</span><span class="va">df</span><span class="op">)</span>              <span class="co"># default name is `.rn`</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .rn a           b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   A 1 -0.23745154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   B 2 -0.67263869</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   C 3  1.21431315</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   D 4  0.03138409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   E 5  2.26227688</span>
<span class="r-in"><span><span class="fu">rn2col</span><span class="op">(</span><span class="va">df</span>, <span class="st">"AptName"</span><span class="op">)</span>   <span class="co"># pass `name =`</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AptName a           b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       A 1 -0.23745154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       B 2 -0.67263869</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       C 3  1.21431315</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       D 4  0.03138409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       E 5  2.26227688</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># moving columns</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">mtcars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">col2rn</span><span class="op">(</span><span class="va">df</span>, <span class="st">"mtcars"</span><span class="op">)</span>   <span class="co"># with a warning</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`data` already has assigned row names. They will be over-written.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      a           b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wt   1 -0.23745154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am   2 -0.67263869</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> disp 3  1.21431315</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> carb 4  0.03138409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hp   5  2.26227688</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Move back and forth easily</span></span></span>
<span class="r-in"><span><span class="co"># Leaves original object un-modified</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu">col2rn</span><span class="op">(</span><span class="fu">rn2col</span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add "id" column</span></span></span>
<span class="r-in"><span><span class="fu">add_rowid</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     .rowid  mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4                1 21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag            2 21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710               3 22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive           4 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout        5 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant                  6 18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360               7 14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D                8 24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230                 9 22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280                10 19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C               11 17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE              12 16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL              13 17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC             14 15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood      15 10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental     16 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial       17 14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128                18 32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic             19 30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla          20 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona           21 21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger        22 15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin             23 15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28              24 13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird        25 19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9               26 27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2           27 26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa            28 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L          29 15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino            30 19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora           31 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E              32 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># remove row names</span></span></span>
<span class="r-in"><span><span class="fu">has_rn</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="va">mtcars2</span> <span class="op">&lt;-</span> <span class="fu">rm_rn</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">has_rn</span><span class="op">(</span><span class="va">mtcars2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://github.com/stufield" class="external-link">Stu Field</a>, SomaLogic Operating Co., Inc..</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

